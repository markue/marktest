<%
#--
#   Copyright (C) 2009 Nokia Corporation and/or its subsidiary(-ies)
#
#   This program is free software: you can redistribute it and/or modify
#   it under the terms of the GNU Affero General Public License as published by
#   the Free Software Foundation, either version 3 of the License, or
#   (at your option) any later version.
#
#   This program is distributed in the hope that it will be useful,
#   but WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#   GNU Affero General Public License for more details.
#
#   You should have received a copy of the GNU Affero General Public License
#   along with this program.  If not, see <http://www.gnu.org/licenses/>.
#++
%>
<script type="text/javascript" charset="utf-8">
  var commitSelector = new CommitRangeSelector(
    '<%= commit_list_project_repository_merge_requests_path %>',
    '<%= target_branches_project_repository_merge_requests_path %>',
    "commit_list_status");

  $(document).ready(function() {
    var element = $("#commit_table tr.commit_row input[checked='checked']")[0]
    if (element)
      commitSelector.endSelected(element);

    $("#commit_table tr.commit_row input[type=radio]").live("click", function() {
      commitSelector.endSelected(this);
    });

    $("#merge_request_source_branch").change(function() {
      commitSelector.onSourceBranchChange();
    });
    $("#merge_request_target_branch").change(function() {
      commitSelector.onTargetBranchChange();
    });
    $("#merge_request_target_repository_id").change(function() {
      commitSelector.onTargetRepositoryChange();
    });
  });
</script>
